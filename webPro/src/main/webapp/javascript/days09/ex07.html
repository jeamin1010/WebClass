<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"> 
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SS17 2022. 11. 29 오전 11:42:05</title>
<link rel="shortcut icon" type="image/x-icon" href="../images/SiSt.ico">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>

<style>
  *{
      box-sizing: border-box;
   }
    .alert{
      padding: 20px;
      background-color: #f44336;
      color:white;
      opacity: 1; 
      transition:opacity 0.6s, height 0.6s;
      margin-bottom: 15px;
   }
   
    .closebtn{
     margin-left: 15px;
     color:white;
     font-weight: bold;
     float:right;
     font-size: 22px;
     line-height: 20px;
     cursor:pointer;
     transition:0.3s;
   }
   .closebtn:hover{
      color:black;
   }
   
   .alert.success{     background-color: #4caf50;   }
   .alert.info{      background-color: #2196f3;   }
   .alert.warning{     background-color: #ff9800;   }
   
</style>

</head>
<!-- <body onload="init()"> -->
<body>
<h3>ex07.html</h3>

<h2>알림(공지사항)</h2>
공지사항 타입 : 
<select name="type" id="type">
   <option>type 없음</option>
   <option>success</option>
   <option>warning</option>
   <option>info</option>
</select>
<br>
내용  : <input type="text" />
<button>공지사항 추가</button>
<hr>
<!-- 
<div class="alert">
  <span class="closebtn">&times;</span>
  <strong>Danger!</strong>
  Lorem ipsum dolor sit amet, consectetur adipisicing.
</div>
<div class="alert success">
  <span class="closebtn">&times;</span>
  <strong>Success!</strong>
  Lorem ipsum dolor sit amet, consectetur adipisicing.
</div>
<div class="alert warning">
  <span class="closebtn">&times;</span>
  <strong>Warning!</strong>
  Lorem ipsum dolor sit amet, consectetur adipisicing.
</div>
<div class="alert info">
  <span class="closebtn">&times;</span>
  <strong>Info!</strong>
  Lorem ipsum dolor sit amet, consectetur adipisicing.
</div> 
 -->
<script>

    window.onload = function (){
    	
    	// [ jquery ajax + DB server select + JSON ]
    	// [] 배열
    	//  {} 객체
    	var data =
    		     [
    		             {type:"success", message:"Lorem ipsum dolor sit amet, consectetur adipisicing."},
    		             {type:"warning", message:"Lorem ipsum dolor sit amet, consectetur adipisicing."},
    		             {type:"info", message:"Lorem ipsum dolor sit amet, consectetur adipisicing."},
    		             {type:"success", message:"Lorem ipsum dolor sit amet, consectetur adipisicing."}
    	         ];
    	/* DOM 사용해서 요소 생성 추가. 
    	<div class="alert info">
    	  <span class="closebtn">&times;</span>
    	  <strong>Info!</strong>
    	  Lorem ipsum dolor sit amet, consectetur adipisicing.
    	</div> 
    	 */
    	 for (var i = 0; i < data.length; i++) {
    		 
    		 var type =  data[i].type;
    		 var message = data[i].message;
    		 
    		 // <div class="alert info"></div>
    		 var alertDiv = document.createElement("div");
    		 alertDiv.classList.add( "alert"  );
    		 alertDiv.classList.add( type  );
    		 
    		 // <span class="closebtn">&times;</span>
    		 var spanbtn = document.createElement("span");
    		 spanbtn.className = "closebtn";
    		 //  document.createTextNode(content)
    		 spanbtn.innerHTML = "&times;";
    		 spanbtn.onclick = function (){
    			 // x  해당 알림창 닫기.
    			 // this.parentNode;
    			 // DOM 탐색~
    			 var div =  this.parentElement;
    			 // div.remove();
    			 div.style.opacity = "0";
    			 setTimeout( function (){
    				 div.style.display = "none";
    			 }, 600);
    		 } // onclick
    		 alertDiv.appendChild(spanbtn);
    		 
    		 
    		// <strong>Info!</strong>
    		 var strong = document.createElement("strong");  
    		 strong.innerHTML =  type.toUpperCase();
    		 alertDiv.appendChild(strong);
    		 
    		 // alertDiv.innerHTML = message;
    		 var content =  document.createTextNode( message );
    		 alertDiv.appendChild(content);
    		 
    		 // hr 뒤에 추가
    		 var hr =  document.querySelector("hr");
    		 // insertBefor();
    		 document.body.insertBefore(alertDiv,   hr.nextElementSibling  )
		} // for 
    	 
//    	 12:05 수업 시작
    } // onload
  
    
    document.querySelector("button").onclick = function(){
    	  var type = document.querySelector("#type").value;
    	  var message = document.querySelector("input[type=text]").value;
    	  
    	  
    	// <div class="alert info"></div>
 		 var alertDiv = document.createElement("div");
 		 alertDiv.classList.add( "alert"  );
 		 alertDiv.classList.add( type  );
 		 
 		 // <span class="closebtn">&times;</span>
 		 var spanbtn = document.createElement("span");
 		 spanbtn.className = "closebtn";
 		 //  document.createTextNode(content)
 		 spanbtn.innerHTML = "&times;";
 		 spanbtn.onclick = function (){
 			// this.parentNode;
			 var div =  this.parentElement;
 			// div.remove();
			 div.style.opacity = "0";
			 setTimeout( function (){
				 
				 div.style.display = "none";
			 }, 600);
 		 } // onclick
 		 alertDiv.appendChild(spanbtn);
 		 
 		 
 		// <strong>Info!</strong>
 		 var strong = document.createElement("strong");  
 		 strong.innerHTML =  type.toUpperCase();
 		 alertDiv.appendChild(strong);
 		 
 		 // alertDiv.innerHTML = message;
 		 var content =  document.createTextNode( message );
 		 alertDiv.appendChild(content);
 		 
 		 // hr 뒤에 추가
 		 var hr =  document.querySelector("hr");
 		 // insertBefor();
 		 document.body.insertBefore(alertDiv,   hr.nextElementSibling  )
    }
    
</script>
</body>
</html>













