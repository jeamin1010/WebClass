<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SS17 2022. 11. 28. 오전 11:40:49</title>
<link rel="shortcut icon" type="image/x-icon" href="../images/SiSt.ico">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
<style>
  #container{
    width:400px;
    height:400px;
    position:relative;
    background-color:yellow;
  }
  
  .animate{
    width:50px;
    height:50px;    
                                         position:absolute;    
    background-color:red;
    border-radius: 50%;
  }
</style>
</head>
<body>
<h3>ex01_08_02.html</h3>
 
<button onclick="make();">Click Me</button>
<br>
<br>
<div id="container">
	
</div>


<script>
   var no = 1;
   
   function make(){
	   var newCircle = document.createElement("div");
	   newCircle.className = "animate";
	   newCircle.setAttribute("id",  "animate" + no );	   
	   document.getElementById("container").appendChild(newCircle); 
	   myMove( "animate" + no );
	   no++;
   }

  function myMove(  id ){
	  // 클로저
	  var elem = document.getElementById(   id  );
	  var posX = 0, posY = 0;
	  
	  var x = parseInt( Math.random()*8 )+2, y = parseInt( Math.random()*8 )+2;
	  
	  var timer = setInterval(function() {   //중첩함수
		  if ( posY >= 350 || posY <= 0 )  y *= -1;  // y 방향 바꾼다.
		  if ( posX >= 350 || posX <= 0 )  x *= -1;
		  
		   
             posX += x;  // 6
             posY += y; // 9
             
             if(  posX < 0  ) posX = 0;
             else if( posX > 350 ) posX = 350;
             if(  posY < 0  ) posY = 0;
             else if( posY > 350 ) posY = 350;
             
             elem.style.left = posX+"px";
             elem.style.top = posY+"px";
	  }, 10);
  }
</script>
</body>
</html>













